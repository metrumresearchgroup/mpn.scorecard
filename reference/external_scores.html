<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Rendering externally scored packages — external_scores • mpn.scorecard</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Rendering externally scored packages — external_scores"><meta property="og:description" content="For R packages, mpn.scorecard handles both scoring and rendering. The
workflow is to first score the package with score_pkg(), then to optionally
generate a traceability matrix with make_traceability_matrix(), and finally
to render the scorecard with render_scorecard().
render_scorecard() also supports rendering packages that are scored outside
of mpn.scorecard. The scorer is responsible for preparing a results directory
with the set of files described below."><meta property="og:image" content="https://metrumresearchgroup.github.io/mpn.scorecard/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mpn.scorecard</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/metrumresearchgroup/mpn.scorecard" class="external-link">
    <span class="fa fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Rendering externally scored packages</h1>
    <small class="dont-index">Source: <a href="https://github.com/metrumresearchgroup/mpn.scorecard/blob/HEAD/R/external.R" class="external-link"><code>R/external.R</code></a></small>
    <div class="hidden name"><code>external_scores.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For R packages, mpn.scorecard handles both scoring and rendering. The
workflow is to first score the package with <code><a href="score_pkg.html">score_pkg()</a></code>, then to optionally
generate a traceability matrix with <code><a href="make_traceability_matrix.html">make_traceability_matrix()</a></code>, and finally
to render the scorecard with <code><a href="render_scorecard.html">render_scorecard()</a></code>.</p>
<p><code><a href="render_scorecard.html">render_scorecard()</a></code> also supports rendering packages that are scored outside
of mpn.scorecard. The scorer is responsible for preparing a results directory
with the set of files described below.</p>
    </div>


    <div id="details">
    <h2>Details</h2>

<div class="section">
<h3 id="input-files">Input files<a class="anchor" aria-label="anchor" href="#input-files"></a></h3>


<p>The following input files define results for the scorecard to render. These
must reside in a directory named <code>&lt;package&gt;_&lt;version&gt;</code>, following the naming
of the output directory returned by <code><a href="score_pkg.html">score_pkg()</a></code>.</p><ul><li><p><code>&lt;package&gt;_&lt;version&gt;.pkg.json</code>: This file provides general information
about the package being scored.  It requires the following keys:</p><ul><li><p><code>mpn_scorecard_format</code>: The version of the format in which these input
files are specified. This should be "1.0".</p></li>
<li><p><code>pkg_name</code>, <code>pkg_version</code>: The name and version of the package.</p></li>
<li><p><code>scorecard_type</code>: The type of package. Two types are currently
recognized and receive special handling: "R" and "cli". Everything else
falls back to default handling.</p>
<p>If you're specifying "R" here, you should probably use <code><a href="score_pkg.html">score_pkg()</a></code>
instead.</p></li>
</ul><p>Example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>{</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="st">"mpn_scorecard_format"</span><span class="sc">:</span> <span class="st">"1.0"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="st">"pkg_name"</span><span class="sc">:</span> <span class="st">"foo"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="st">"pkg_version"</span><span class="sc">:</span> <span class="st">"1.2.3"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="st">"scorecard_type"</span><span class="sc">:</span> <span class="st">"cli"</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>}</span></code></pre><p></p></div></li>
<li><p><code>&lt;package&gt;_&lt;version&gt;.check.txt</code>: Output from the package check. This is
included in the appendix verbatim.</p></li>
<li><p><code>&lt;package&gt;_&lt;version&gt;.coverage.json</code>: Code coverage percentages. The values
will be rounded to two decimal places when rendering. This file is
optional.</p>
<p>Example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>{</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="st">"overall"</span><span class="sc">:</span> <span class="fl">91.54265</span>,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="st">"files"</span><span class="sc">:</span> [</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    {</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>      <span class="st">"file"</span><span class="sc">:</span> <span class="st">"cmd/foo.go"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>      <span class="st">"coverage"</span><span class="sc">:</span> <span class="fl">98.7643</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>    },</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    {</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>      <span class="st">"file"</span><span class="sc">:</span> <span class="st">"cmd/bar.go"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>      <span class="st">"coverage"</span><span class="sc">:</span> <span class="fl">84.321</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>    }</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>  ]</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>}</span></code></pre><p></p></div></li>
<li><p><code>&lt;package&gt;_&lt;version&gt;.scores.json</code>: Scores for individual metrics grouped
into four categories: "testing", "documentation", "maintenance", and
"transparency". Each category must have a least one score.</p>
<p>For the testing category, "check is required. "check" should be 1 if the
tests passed and 0 if they failed. "coverage" is required if the
<code>&lt;package&gt;_&lt;version&gt;.coverage.json</code> coverage" file exists.  The value
should match the "overall" value from <code>&lt;package&gt;_&lt;version&gt;.coverage.json</code>,
divided by 100.</p>
<p>Example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>{</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="st">"testing"</span><span class="sc">:</span> {</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    <span class="st">"check"</span><span class="sc">:</span> <span class="dv">1</span>,</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="st">"coverage"</span><span class="sc">:</span> <span class="fl">0.9154265</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  },</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  <span class="st">"documentation"</span><span class="sc">:</span> {</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>    <span class="st">"has_website"</span><span class="sc">:</span> <span class="dv">1</span>,</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    <span class="st">"has_news"</span><span class="sc">:</span> <span class="dv">1</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>  },</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>  <span class="st">"maintenance"</span><span class="sc">:</span> {</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>    <span class="st">"has_maintainer"</span><span class="sc">:</span> <span class="dv">1</span>,</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>    <span class="st">"news_current"</span><span class="sc">:</span> <span class="dv">1</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>  },</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>  <span class="st">"transparency"</span><span class="sc">:</span> {</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>    <span class="st">"has_source_control"</span><span class="sc">:</span> <span class="dv">1</span>,</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>    <span class="st">"has_bug_reports_url"</span><span class="sc">:</span> <span class="dv">1</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>  }</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>}</span></code></pre><p></p></div></li>
<li><p><code>&lt;package&gt;_&lt;version&gt;.metadata.json</code>: Information to include in the
"System Info" table. The table will include the "date" and "executor"
value, as well as any key-value pairs defined under "info.env_vars" and
"info.sys". The "date" and "executor" keys are required.</p>
<p>Example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>{</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="st">"date"</span><span class="sc">:</span> <span class="st">"2024-08-01 08:19:12"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="st">"executor"</span><span class="sc">:</span> <span class="st">"Bobert"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="st">"info"</span><span class="sc">:</span> {</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="st">"env_vars"</span><span class="sc">:</span> {</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>      <span class="st">"METWORX_VERSION"</span><span class="sc">:</span> <span class="st">"22.09"</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>    },</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    <span class="st">"sys"</span><span class="sc">:</span> {</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>      <span class="st">"sysname"</span><span class="sc">:</span> <span class="st">"Linux"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>      <span class="st">"machine"</span><span class="sc">:</span> <span class="st">"x86_64"</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>    }</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>  }</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>}</span></code></pre><p></p></div></li>
<li><p><code>&lt;package&gt;_&lt;version&gt;.matrix.yaml</code>: A file defining entries to render as
the traceability matrix table. The traceability matrix table is meant to
map all user-facing entry points (e.g., exported functions or available
commands for a command-line executable) to the relevant documentation and
test files.</p>
<p>The file should consist of a sequence of entries with the following items:</p><ul><li><p><code>entrypoint</code>: The name of the entry point.</p></li>
<li><p><code>code</code>: The path to where the entry point is defined.</p></li>
<li><p><code>doc</code>: The path to the entry point's main documentation.</p></li>
<li><p><code>tests</code>: A list of paths where the entry point is tested.</p></li>
</ul><p>What the entry point is called in the table depends on <code>scorecard_type</code>.
For "cli", the column name is "Command" and, for "R", it is
"Exported Function". For all other types, it is "Entry Point".</p>
<p>This file is optional if the <code>add_traceability</code> argument of
<code><a href="render_scorecard.html">render_scorecard()</a></code> is "auto" or <code>FALSE</code>.</p>
<p>Example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="sc">-</span> entrypoint<span class="sc">:</span> foo</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  skip<span class="sc">:</span> true</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="sc">-</span> entrypoint<span class="sc">:</span> foo bar</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  code<span class="sc">:</span> cmd<span class="sc">/</span>bar.go</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  doc<span class="sc">:</span> docs<span class="sc">/</span>commands<span class="sc">/</span>foo_bar.md</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  tests<span class="sc">:</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    <span class="sc">-</span> cmd<span class="sc">/</span>bar_test.go</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>    <span class="sc">-</span> integration<span class="sc">/</span>bar_test.go</span></code></pre><p></p></div></li>
</ul></div>

    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kyle Barrett, Seth Green, Kyle Meyer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

